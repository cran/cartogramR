
R version 4.1.0 Patched (2021-06-26 r80567) -- "Camp Pontanezen"
Copyright (C) 2021 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> ## dcn
> 
> library(cartogramR)
> data(usa)
> options(digits=5)
> precarto <- precartogramR(usa, method="dcn")
> summary(precarto)
    L3 L2 L1   dbv
 1: 41  1  1 70168
 2: 41  1  1 63190
 3: 40  1  1 60039
 4: 46  1  1 60039
 5: 41  1  1 55524
 6: 17  1  1 51181
 7: 41  1  1 50052
 8: 40  1  1 49497
 9: 41  1  1 49497
10: 41  1  1 46277
> 
> carto <-  cartogramR(usa, "electors64", method="dcn", options=list(relerror=4))
> carto$final_centers
          [,1]     [,2]
 [1,]   520681 -1066277
 [2,]  -602369 -1036083
 [3,]  -747062   216583
 [4,]  1873010   184672
 [5,]  -163089   230490
 [6,]  -166201   -59598
 [7,]  -967835  -495628
 [8,] -1528470    85672
 [9,] -1458501   414530
[10,] -1095712    24347
[11,]    78434  -981065
[12,]  2157506  -213761
[13,]  2389117    86842
[14,]   656617 -1479439
[15,]  2248028    46507
[16,]  1566128  -543803
[17,]  1306163  -331510
[18,]  1150117  -744428
[19,]  1459701 -1240888
[20,]   828426 -1289686
[21,]  2335395   214225
[22,]  2119530  -404423
[23,]  2111559   421754
[24,]  1765005  -170086
[25,]  1963264  -429043
[26,]  1087840  -937630
[27,]  1107266 -1268438
[28,]  1803604  -639484
[29,]   451671  -697767
[30,]  2234916   400657
[31,]  2328992   602944
[32,]  1691879 -1068336
[33,]   319721  -266224
[34,]  1824248  -857402
[35,]   -21156  -670075
[36,]  -141805  -349073
[37,]  -658102  -180504
[38,]  -546606  -585810
[39,]   267232   171779
[40,]   626718    59697
[41,]   962964   153615
[42,]   996680  -451786
[43,]   -29170 -1402400
[44,]  1659961 -1657466
[45,]  1922133  -452834
[46,]   716441  -461326
[47,] -1013692  -994049
[48,] -1312308  -427616
[49,] -1599545  -591784
> carto$final_area
 [1] 1.2184e+11 2.1223e+11 2.5732e+11 2.4524e+11 1.3657e+11 1.4757e+11
 [7] 1.5788e+11 1.9388e+11 1.6497e+11 1.6699e+11 1.5342e+11 5.6477e+10
[13] 2.0842e+10 1.3906e+11 3.9731e+10 7.6110e+10 1.8341e+11 1.1415e+11
[19] 1.6223e+11 1.2011e+11 5.2652e+10 1.2932e+10 2.9809e+10 2.0761e+11
[25] 5.7830e+10 1.2112e+11 1.4125e+11 1.3184e+11 1.8058e+11 3.3607e+10
[31] 8.1357e+10 9.4992e+10 1.4244e+11 1.5353e+11 1.7596e+11 1.5414e+11
[37] 1.6372e+11 2.0260e+11 2.0166e+11 1.7207e+11 2.6379e+11 1.2401e+11
[43] 5.9658e+11 1.7829e+11 6.9836e+09 2.0828e+11 2.1313e+11 2.0469e+11
[49] 4.4519e+11
> carto$cartogram[[15]]
MULTIPOLYGON (((2139939 108014, 2140023 103073, 2140036 102138, 2140057 100590, 2140084 92605, 2140081 90938, 2140077 90168, 2140078 89901, 2140067 88149, 2140083 81685, 2140118 77524, 2140131 75106, 2140150 72983, 2140389 64114, 2140716 58977, 2141377 51887, 2141757 48861, 2142086 46574, 2143195 39737, 2144052 35321, 2144849 31756, 2146113 26616, 2147284 22464, 2150429 12405, 2152824 5949.4, 2153750 3675.4, 2155421 -179.28, 2156203 -1864.1, 2157276 -4076.5, 2157865 -5273.3, 2158191 -5917.2, 2158487 -6484.8, 2159079 -7613, 2159411 -8225.8, 2160258 -9779.1, 2161193 -11452, 2162891 -14399, 2163822 -15957, 2165271 -18211, 2166548 -20105, 2167539 -21575, 2168903 -23509, 2171166 -26592, 2174744 -31115, 2177708 -33592, 2180459 -35803, 2182936 -37739, 2185115 -39406, 2187671 -41306, 2189695 -42777, 2189300 -43084, 2188658 -43522, 2188467 -43678, 2188245 -43883, 2187805 -44234, 2187091 -44765, 2186981 -44854, 2186712 -45068, 2186169 -45464, 2185888 -45666, 2185598 -45866, 2185383 -46017, 2185070 -46258, 2184751 -46476, 2184658 -46543, 2184181 -46852, 2183886 -47076, 2183806 -47118, 2183100 -47594, 2182911 -47742, 2182478 -48036, 2181998 -48382, 2180845 -49232, 2180692 -49316, 2179883 -50160, 2180662 -50698, 2181423 -51154, 2182256 -51698, 2184414 -53108, 2187076 -54797, 2187331 -54957, 2188415 -55643, 2189963 -56600, 2190397 -56870, 2190727 -57074, 2190896 -57181, 2191281 -57416, 2191598 -57610, 2191665 -57652, 2192339 -58091, 2193473 -58792, 2194383 -59313, 2195144 -59791, 2195749 -60434, 2196047 -60928, 2196438 -61240, 2196796 -61580, 2197363 -62064, 2198045 -62536, 2206041 -66537, 2206609 -66530, 2209151 -66517, 2210587 -66516, 2214604 -66537, 2219630 -66588, 2223829 -66675, 2225848 -66726, 2233005 -67000, 2235799 -67137, 2236957 -67155, 2240965 -67153, 2242757 -67165, 2253242 -66865, 2262351 -65479, 2273477 -62822, 2275581 -62191, 2280879 -60453, 2288496 -57683, 2299161 -53363, 2319238 -44548, 2327144 -40888, 2342040 -33401, 2347961 -30133, 2350268 -28789, 2356091 -25030, 2357884 -23791, 2358922 -22467, 2360993 -19771, 2363521 -17676, 2367325 -15651, 2368334 -15810, 2369556 -15989, 2369261 -13747, 2369145 -13392, 2370803 -13911, 2372247 -14230, 2373054 -13819, 2373774 -12703, 2373960 -12092, 2373578 -11706, 2372005 -10809, 2371417 -10243, 2371311 -10129, 2371262 -9899.9, 2371361 -9664.2, 2371168 -9450.1, 2370759 -9131.7, 2370702 -8915.9, 2370472 -8771.5, 2370247 -8635, 2370069 -8525.6, 2369988 -8440.6, 2369829 -8225.6, 2369306 -7831.7, 2368725 -7605.4, 2368140 -7224.1, 2367653 -6656.5, 2366962 -6088.8, 2366590 -5584.4, 2366471 -5296.8, 2366866 -5207.5, 2367271 -5120.8, 2367623 -4817.7, 2367641 -4451, 2368052 -4349, 2368525 -4426.8, 2369306 -4743.8, 2369630 -4673.6, 2370198 -4901.5, 2370333 -4730.8, 2369528 -3699.9, 2368949 -2912.2, 2368083 -1654.3, 2367845 -1285.2, 2367724 -1096.2, 2367261 -348.88, 2365311 3244.1, 2362844 8549.8, 2361605 11469, 2360711 13685, 2359153 17624, 2356650 24123, 2355953 25920, 2355442 27217, 2354494 29583, 2353883 31115, 2353548 31932, 2353329 32467, 2352260 35108, 2351922 35946, 2351089 38007, 2350315 39970, 2348495 44408, 2346822 48509, 2345522 51577, 2344449 54100, 2343796 55639, 2343164 57110, 2339896 64487, 2337906 68768, 2334305 76704, 2332560 80643, 2331059 84092, 2328909 89167, 2326313 95663, 2325160 98665, 2323456 103258, 2319169 117194, 2318648 119353, 2317349 125722, 2317044 127875, 2316630 131198, 2316326 133993, 2315897 138260, 2315647 140352, 2314719 147315, 2314481 148914, 2313939 152284, 2313343 155584, 2313177 156568, 2312929 157967, 2312452 160603, 2312141 162121, 2312016 162694, 2311082 167094, 2310012 171607, 2308842 174325, 2305284 172770, 2304402 172391, 2303553 172033, 2302629 171642, 2301257 171061, 2298399 169878, 2296970 169304, 2296063 168944, 2292039 167492, 2288558 166306, 2286355 165620, 2285720 165411, 2283748 164829, 2282590 164468, 2278407 163211, 2274774 162197, 2272395 161611, 2270082 161011, 2265962 160212, 2263374 159793, 2262177 159634, 2259526 159247, 2256981 158938, 2256148 158801, 2252856 158314, 2249982 157906, 2245969 157344, 2241471 156711, 2235663 155815, 2229946 154810, 2226765 154247, 2222755 153588, 2219243 152947, 2214208 152019, 2213065 151814, 2210993 151446, 2205732 150363, 2204435 150114, 2203226 149636, 2201538 148810, 2200490 147326, 2200274 146854, 2199784 146740, 2199026 146634, 2198580 146528, 2198255 146723, 2197717 147759, 2197096 147662, 2196624 147588, 2194868 147394, 2191858 147265, 2190109 146976, 2189191 146681, 2188833 146460, 2186050 145343, 2185682 145196, 2185775 144619, 2186014 144473, 2186366 144142, 2186482 143729, 2186467 143298, 2186497 142954, 2186515 142567, 2186615 142138, 2186576 141826, 2186342 142080, 2186155 142067, 2186050 141798, 2185890 141873, 2186038 141620, 2186042 141317, 2186397 141115, 2186669 140985, 2186762 140422, 2186722 139921, 2186913 139532, 2187125 139199, 2186943 138788, 2187200 137458, 2185458 136165, 2183616 134805, 2180857 143211, 2180046 142850, 2178822 142316, 2177242 141724, 2176238 141193, 2172676 139295, 2171001 138397, 2168327 136650, 2166060 135134, 2164479 134018, 2163427 133255, 2162950 132917, 2161549 131838, 2159842 130429, 2158461 129189, 2158057 128810, 2157035 127809, 2155903 126636, 2154665 125307, 2154560 125190, 2154007 124565, 2152755 123096, 2152578 122900, 2151535 121626, 2150864 120765, 2150036 119712, 2149948 119601, 2149579 119151, 2148796 118186, 2148133 117380, 2147410 116509, 2147368 116457, 2146386 115301, 2145700 114495, 2143797 112394, 2143006 111545, 2142110 110506, 2140969 109181, 2139939 108014)))
> summary(carto)
* Objective:
  - Relative error:
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
0.00707 0.22078 0.47143 0.74908 0.84640 3.50195 
  - Error:
    Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
1.29e+09 2.86e+10 5.45e+10 8.59e+10 1.18e+11 4.06e+11 

* Distortion of regions
  Symmetrized difference error
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
 0.0376  0.0593  0.0851  0.0928  0.1073  0.2056 
> 
> library(cartogramR)
> data(france_dept)
> carto2 <- cartogramR(france_dept, "n_physicians", method="dcn", options=list(relerror=1e-5))
> fr <- sf::st_geometry(france_dept)
> plot(fr[c(92,75,78)+1])
> plot(carto2$cartogram[c(92,75,78)+1])
> 
> proc.time()
   user  system elapsed 
  3.076   1.056   1.780 
